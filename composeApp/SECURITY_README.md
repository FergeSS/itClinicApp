# üîê –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –¥–ª—è –Ω–æ–≤—ã—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ BuildConfig.kt

–ü–æ—Å–ª–µ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:

```bash
# –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É —Å –∫–æ–Ω—Ñ–∏–≥–æ–º
cd composeApp/src/commonMain/kotlin/com/spbu/projecttrack/

# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —à–∞–±–ª–æ–Ω
cp BuildConfig.example.kt BuildConfig.kt
```

### 2. –ü–æ–ª—É—á–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π —Ç–æ–∫–µ–Ω

–î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –≤–∞–º –Ω—É–∂–µ–Ω JWT —Ç–æ–∫–µ–Ω:

```bash
# –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É —Å –±—ç–∫–µ–Ω–¥–æ–º
cd Registry/

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–æ–∫–µ–Ω–∞
node generate-test-token.js
```

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω –∏ –≤—Å—Ç–∞–≤—å—Ç–µ –≤ `BuildConfig.kt`:

```kotlin
const val TEST_TOKEN = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
```

### 3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ API

–í `BuildConfig.kt` —É–∫–∞–∂–∏—Ç–µ:

```kotlin
// –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
const val USE_LOCAL_API = true
const val LOCAL_PORT = 8000

// –î–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω
const val USE_LOCAL_API = false
const val PRODUCTION_BASE_URL = "https://citec.spb.ru/api"
```

## üìÅ –§–∞–π–ª—ã —Å –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

–≠—Ç–∏ —Ñ–∞–π–ª—ã **–ù–ï –∫–æ–º–º–∏—Ç—è—Ç—Å—è** –≤ Git:

- `BuildConfig.kt` - —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–∫–µ–Ω—ã –∏ API –∫–ª—é—á–∏
- `.env` –∏ `.env.local` - –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- `local.properties` - –ª–æ–∫–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞

## üîë –ì–µ–Ω–µ—Ä–∞—Ü–∏—è JWT —Ç–æ–∫–µ–Ω–∞

–ï—Å–ª–∏ —Ñ–∞–π–ª–∞ `generate-test-token.js` –Ω–µ—Ç, —Å–æ–∑–¥–∞–π—Ç–µ –µ–≥–æ:

```javascript
// Registry/generate-test-token.js
const jwt = require('jsonwebtoken');

const SECRET = 'abcd'; // –°–µ–∫—Ä–µ—Ç –∏–∑ –≤–∞—à–µ–≥–æ auth —Å–µ—Ä–≤–∏—Å–∞
const payload = {
  id: 1,
  iat: Math.floor(Date.now() / 1000),
  exp: Math.floor(Date.now() / 1000) + (365 * 24 * 60 * 60) // 1 –≥–æ–¥
};

const token = jwt.sign(payload, SECRET);
console.log('Test JWT Token:');
console.log(token);
```

–ó–∞–ø—É—Å—Ç–∏—Ç–µ:

```bash
npm install jsonwebtoken
node generate-test-token.js
```

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ** `BuildConfig.kt` –≤ Git
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–∞–∑–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã –¥–ª—è **—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏** –∏ **–ø—Ä–æ–¥–∞–∫—à–Ω**
3. –¢–æ–∫–µ–Ω—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å **–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è**
4. –î–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ **GitHub Secrets** –∏–ª–∏ –¥—Ä—É–≥–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞

## üöÄ CI/CD

–ü—Ä–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ CI/CD –¥–æ–±–∞–≤—å—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã –≤ GitHub Actions:

```yaml
# .github/workflows/build.yml
env:
  TEST_TOKEN: ${{ secrets.TEST_TOKEN }}
  PRODUCTION_BASE_URL: ${{ secrets.PRODUCTION_BASE_URL }}
```

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —É –≤–∞—Å –ø—Ä–æ–±–ª–µ–º—ã —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π, —Å–≤—è–∂–∏—Ç–µ—Å—å —Å –∫–æ–º–∞–Ω–¥–æ–π –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ issue.
