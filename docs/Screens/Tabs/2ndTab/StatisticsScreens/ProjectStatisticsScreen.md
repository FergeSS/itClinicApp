<!-- project_statistics_screen.md -->

# Экран «Статистика» — статистика проекта

## Когда показывается
Открывается из карточки/экрана проекта по кнопке **«Статистика проекта»**. В будущих версиях перед отображением статистики будет показан шаг настройки расчёта (как считать данные в каждом блоке).

## Назначение
Показать сводную статистику по проекту и сравнение участников команды по метрикам: коммиты, issues, pull requests и дополнительные показатели (быстрые PR, изменчивость кода, владение кодом, активность по дням недели).

- **График оценок** — визуализация динамики итоговой оценки (и/или оценок по блокам) по времени.
- **Настройка расчёта по блокам** — отдельный шаг перед экраном статистики, где можно будет указать правила/параметры, как считать статистику в каждом блоке (например, периоды, пороги, исключения и т. п.).
- **Выбор участников** — возможность указать, каких участников команды учитывать в статистике проекта (например, исключить временно неактивных).
- **Индикаторы изменений в рейтинге** — в таблицах сравнения появятся стрелки **вверх/вниз**, показывающие, как участник поднялся или опустился в рейтинге относительно предыдущего периода.

## Структура экрана

### 1) Шапка
- Кнопка **назад** (стрелка).
- Заголовок: **«Статистика»**.
- Название проекта под заголовком.

### 2) Информация о проекте
- Блок **«Заказчик»** (ФИО/название).
- Блок **«Участники команды»** — список участников с ролями.
  - Напротив каждого участника есть кнопка/ссылка **«Статистика»** (переход к статистике конкретного участника в рамках проекта).
  - Текущий пользователь в списке отмечается **«(Вы)»**.

### 3) Параметры отчёта
- **Выбор репозитория** (выпадающий список).
- **Выбор периода** (интервал дат “с…по…”).

### 4) Блоки метрик
Каждый блок содержит кнопку **«Подробнее»**, показатели и сравнение участников (в будущих версиях — с индикаторами изменения позиции в рейтинге).

#### Коммиты
- Количество коммитов.
- Место в рейтинге.
- График коммитов по датам.
- Таблица/список **«Количество коммитов»** по участникам.
- Итоговая **оценка коммитов**.

#### Issues
- Открытые / закрытые issues.
- Подсказка “сколько осталось закрыть” (например, «Закройте ещё … Issue»).
- Место в рейтинге.
- Таблица/список **«Количество Issue (открытые/закрытые)»** по участникам.
- Итоговая **оценка Issue**.

#### Pull Requests
- График PR по датам.
- **Дни** — среднее время жизни Pull Request.
- Всего Pull Request.
- Место в рейтинге.
- Таблица/список **«Количество Pull Request»** по участникам.
- Итоговая **оценка Pull Request**.

#### Быстрые Pull Requests
- Выбор периода для блока (например, **«Период: 1 день/1н»**).
- График быстрых PR по датам.
- Всего быстрых PR.
- Место в рейтинге.
- Таблица/список **«Количество быстрых Pull Request»** по участникам.
- Итоговая **оценка быстрых Pull Request**.

#### Изменчивость кода
- Таблица **«Статистика по файлам»** (колонки: *Файл* / *Кол-во*).
- Количество изменённых файлов.
- Место в рейтинге.
- Таблица/список **«Количество изменённых файлов»** по участникам.
- Итоговая **оценка изменчивости кода**.

#### Владение кодом
- Диаграмма распределения владения кодом между участниками.
- Легенда со списком участников и объёмом (у текущего пользователя пометка **«(Вы)»**).
- Место в рейтинге.
- Итоговая **оценка владения кодом**.

#### Доминирующий день недели
- Диаграмма распределения активности по дням недели + счётчики действий.
- Выделение самого активного дня (например, **«ПОНЕДЕЛЬНИК»**).
- Итоговая **оценка доминирующего дня недели**.

### 5) Дополнительные действия
- **Настройки экрана**
- **Экспорт в PDF**
- **Экспорт в Excel**
- Кнопка **«Общий рейтинг»** (переход к общему рейтингу).