# Экран «Статистика» — личная статистика

## Когда показывается
Открывается при выборе пункта **«Личная статистика»** или выборе студента во вкладке **«Рейтинг студентов»**. В будущих версиях перед отображением статистики будет показан шаг настройки расчёта (как считать данные в каждом блоке).

## Назначение
Показать персональные метрики пользователя по выбранному репозиторию и периоду: коммиты, issues, pull requests и дополнительные показатели (быстрые PR, изменчивость кода, владение кодом, активность по дням недели).

## Планы на будущие версии
- **График оценок** — визуализация динамики итоговой оценки (и/или оценок по блокам) по времени.
- **Настройка расчёта по блокам** — отдельный шаг перед экраном статистики, где можно будет указать правила/параметры, как считать статистику в каждом блоке (например, периоды, пороги, исключения и т. п.).
- **Индикаторы изменений в рейтинге** — рядом с местом в команде/рейтинге и в таблицах сравнения появятся стрелки **вверх/вниз**, показывающие, как пользователь поднялся или опустился относительно предыдущего периода.

## Структура экрана

### 1) Шапка
- Кнопка **назад** (стрелка).
- Заголовок: **«Статистика»**.
- Информация о пользователе:
  - ФИО
  - роль (например, *Backend-разработчик*)
  - проект (название проекта под ролью)

### 2) Параметры отчёта
- **Выбор репозитория** (выпадающий список).
- **Выбор периода** (интервал дат “с…по…”).

### 3) Сводные показатели
- **Место в команде** (например, 1; в будущих версиях — со стрелкой изменения позиции).

### 4) Блоки метрик
Каждый блок оформлен карточками и содержит кнопку **«Подробнее»** (в будущих версиях — с индикаторами изменения позиции в рейтинге там, где отображается место).

#### Коммиты
- Количество коммитов.
- Место в рейтинге.
- График коммитов по датам.
- Итоговая **оценка коммитов**.

#### Issues
- Открытые / закрытые issues.
- Подсказка “сколько осталось закрыть” (например, «Закройте ещё … Issue»).
- Место в рейтинге.
- Итоговая **оценка Issue**.

#### Pull Requests
- График PR по датам.
- **Дни** — среднее время жизни Pull Request.
- Всего Pull Request.
- Место в рейтинге.
- Итоговая **оценка Pull Request**.

#### Быстрые Pull Requests
- Выбор периода для блока (например, **«Период: 1н»**).
- График быстрых PR по датам.
- Всего быстрых PR.
- Место в рейтинге.
- Итоговая **оценка быстрых Pull Request**.

#### Изменчивость кода
- Таблица **«Статистика по файлам»** (колонки: *Файл* / *Кол-во*) с 3 самыми изменяемыми файлами.
- Количество изменений файлов.
- Место в рейтинге.
- Итоговая **оценка изменчивости кода**.

#### Владение кодом
- Диаграмма распределения владения кодом между участниками.
- Легенда со списком участников и объёмом (у текущего пользователя пометка **«(Вы)»**).
- Место в рейтинге.
- Итоговая **оценка владения кодом**.

#### Доминирующий день недели
- Диаграмма распределения активности по дням недели + счётчики действий.
- Выделение самого активного дня (например, **«ПОНЕДЕЛЬНИК»**).
- Итоговая **оценка доминирующего дня недели**.

### 5) Дополнительные действия
- **Настройки экрана**
- **Экспорт в PDF**
- **Экспорт в Excel**
- Кнопка **«Общий рейтинг»** (переход к общему рейтингу).